@{
    ViewData["Title"] = "Rastgele Özlü Söz";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>@ViewData["Title"]</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>
<body>
    <div class="container">
        <h1 class="my-4">Rastgele Özlü Söz</h1>
        <div id="quote-container" class="mb-3">
            <blockquote class="blockquote">
                <p id="quote-text" class="mb-0"></p>
                <br/>
                <footer id="quote-author" class="blockquote-footer"></footer>
            </blockquote>
        </div>
        <button id="new-quote" class="btn btn-primary">Yeni Özlü Söz Getir</button>
        <a id="tweet-quote" class="btn btn-info" href="https://twitter.com/intent/tweet?hashtags=YazılımPark&text=" target="_blank">Twitter'da Paylaş</a>
    </div>

    <script>$(document).ready(function () {
            function getRandomQuote() {
                $.ajax({
                    url: '/api/Quotes',
                    method: 'GET',
                    success: function (data) {
                        $('#quote-text').text(data.quote);
                        $('#quote-author').text(data.author);
                        $('#tweet-quote').attr('href', `https://twitter.com/intent/tweet?hashtags=YazılımPark&text="${data.quote}" - ${data.author}`);
                    },
                    error: function (error) {
                        console.error('Error fetching quote:', error);
                    }
                });
            }

            $('#new-quote').click(function () {
                getRandomQuote();
            });

            // Sayfa yüklendiğinde rastgele bir özlü söz getir.
            getRandomQuote();
        });</script>
</body>
</html>
